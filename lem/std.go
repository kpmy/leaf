package lem

const StdDef = ` (* Builtin procedures definition *)
DEFINITION STD

	PROCEDURE NEW
	VAR p+ PTR
	END NEW

	PROCEDURE INC
	VAR
		x+ INTEGER
		n- INTEGER
	PRE n >= 0
	END INC

	PROCEDURE DEC
	VAR
		x+ INTEGER
		n- INTEGER
	PRE n >= 0
	END DEC

	PROCEDURE CAP
	VAR
		cap+ CHAR
		x- CHAR
	INFIX cap x
	END CAP

	PROCEDURE LEN
	VAR
		in- ANY
		out+ INTEGER
	INFIX out in
	END LEN

	PROCEDURE ODD
	VAR
		in- INTEGER
		out+ BOOLEAN
	INFIX out in
	END ODD

	PROCEDURE RESIZE
	VAR
		list+ LIST
		n- INTEGER
	PRE n >= 0
	END RESIZE

	PROCEDURE TYPEOF
	VAR
		res+ ATOM
		in- ANY
	INFIX res in
	END TYPEOF

	PROCEDURE INCL
		VAR set+ SET
		VAR x- ANY
	PRE (x # UNDEF)
	END INCL

	PROCEDURE EXCL
		VAR set+ SET
		VAR x- ANY
	PRE (x # UNDEF)
	END EXCL

	PROCEDURE VALUES
		VAR x- ANY
		VAR out+ LIST
	INFIX out x
	END VALUES

	PROCEDURE KEYS
		VAR x- MAP
		VAR out+ LIST
	INFIX out x
	END KEYS

	PROCEDURE PROCESS
		VAR to+, from+ MAP
	END PROCESS

	PROCEDURE ASSERT
		VAR cond- BOOLEAN; msg- ANY; code- INTEGER
	END ASSERT

	PROCEDURE HALT
		VAR code- INTEGER; msg- ANY
	END HALT

	PROCEDURE RUN
		VAR proc- PROCEDURE
		PRE proc # UNDEF
	END RUN
END STD.
`

const HANDLE = "HANDLE"
const MSG = "msg"

var Debug = false
